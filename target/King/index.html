<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge"> 
<meta name="viewport" content="width=device-width, initial-scale=1"> 
<title>login</title>
<link rel="stylesheet" type="text/css" href="css/normalize.css" />
<link rel="stylesheet" type="text/css" href="css/demo.css" />
<!--必要样式-->
<link rel="stylesheet" type="text/css" href="css/component.css" />
<!--[if IE]>
<script src="js/html5.js"></script>
<![endif]-->
</head>
<body>
	<div class="container demo-1">
		<div class="content">
			<div id="large-header" class="large-header">
				<canvas id="demo-canvas"></canvas>
				<div class="logo_box">
					<h3>欢迎你</h3>
					<form action="#" name="f" method="post">
						<div class="input_outer">
							<span class="u_user"></span>
							<input id="logname" name="logname" class="text" style="color: #FFFFFF !important" type="text" placeholder="请输入账户" value="蒋文峰">
						</div>
						<div class="input_outer">
							<span class="us_uer"></span>
							<input id="logpass" name="logpass" class="text" style="color: #FFFFFF !important; position:absolute; z-index:100;"value="yaojiaxin" type="password" placeholder="请输入密码">
						</div>
						<div class="mb2"><a class="act-but submit" href="javascript:login();" style="color: #FFFFFF">登录</a></div>
					</form>
				</div>
			</div>
		</div>
	</div><!-- /container -->
	<script src="js/TweenLite.min.js"></script>
	<script src="js/EasePack.min.js"></script>
	<script src="js/rAF.js"></script>
	<script src="js/demo-1.js"></script>
	<script src="js/jquery.min.js"></script>
	<script type="text/javascript">
		function login() {
			var params = {};
			params.username = $("#logname").val();
			params.password = $("#logpass").val();//注意params.名称  名称与实体bean中名称一致
			$.ajax({
				type: "POST",
				url: "/user/login.do",
				data:params,
				dataType:"json",
	//          contentType: "application/json; charset=utf-8",//此处不能设置，否则后台无法接值
				success:function(data){
					var storage = window.localStorage;
					storage.setItem("user", JSON.stringify(data.data));
//                    console.log(data.data.username,data,data.data);
					window.location.href = "king.html";
				},
				error:function(tt){
					alert("出现异常，异常原因【" + tt + "】!");
				}
			});
		}
	</script>
	</body>
</html>